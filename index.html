<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aHub</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="style.css">
    <script src="app.js" defer></script>
</head>
<body>

    <div id="auth-overlay" class="overlay">
        <div class="auth-card">
            <h1>Welcome.</h1>
            <input type="email" id="user" placeholder="Email" class="neal-input">
            <input type="password" id="pass" placeholder="Password" class="neal-input">
            <div class="auth-buttons">
                <button onclick="app.login()" class="neal-btn primary">Login</button>
                <button onclick="app.register()" class="neal-btn">Sign Up</button>
            </div>
        </div>
    </div>

    <div id="main-content" class="hidden">
        <header class="main-header">
            <div class="logo">DASHBOARD</div>
            <div class="header-actions">
                <button onclick="app.logout()" class="neal-btn danger">Logout</button>
            </div>
        </header>

        <section class="workspace-bar">
            <input type="text" id="join-work-id" placeholder="Enter ID to Join" class="neal-input small">
            <button onclick="app.joinWorkspace()" class="neal-btn">Join</button>

            <select id="workspace-dropdown" class="neal-input" style="width: auto;" onchange="app.switchWorkspace(this.value)">
                <option value="">üè† Private Space</option>
            </select>

            <button onclick="app.createNewWorkspace()" class="neal-btn primary">‚ú® New Space</button>
            <button onclick="app.copyInviteLink()" class="neal-btn">üîó Invite</button>
        </section>

        <main id="module-container" class="grid-container">
            <div class="module portal-card">
                <h3>Trade Checker</h3>
                <a href="https://amvgg.com/calculator" target="_blank" class="neal-btn">Open AMVGG ‚Üó</a>
            </div>
        </main>

        <button class="fab" onclick="app.openModal()">+</button>
    </div>

    <div id="modal-overlay" class="overlay hidden">
        <div class="auth-card">
            <h2>New Tracker</h2>
            <input type="text" id="track-name" placeholder="Name (Required)" class="neal-input">
            <select id="track-type" class="neal-input">
                <option value="bool">Checkmark (Done/Not Done)</option>
                <option value="text">Value Entry (Grams, Laps, etc.)</option>
            </select>
            <div class="auth-buttons">
                <button onclick="app.createTracker()" class="neal-btn primary">Create</button>
                <button onclick="app.closeModal()" class="neal-btn">Cancel</button>
            </div>
        </div>
    </div>

</body>
</html>
